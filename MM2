local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local playerGui = LocalPlayer:WaitForChild("PlayerGui")

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "NehemiasMM2"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 260, 0, 200)
frame.Position = UDim2.new(0.05, 0, 0.2, 0)
frame.BackgroundColor3 = Color3.fromRGB(35,35,35)
frame.Active = true
frame.Draggable = true
frame.Parent = screenGui

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1,0,0,30)
title.Position = UDim2.new(0,0,0,0)
title.Text = "Nehemías"
title.Font = Enum.Font.Freedoka
title.TextSize = 20
title.BackgroundColor3 = Color3.fromRGB(60,60,60)
title.TextColor3 = Color3.new(1,1,1)
title.Parent = frame
title.Active = true -- Para que reciba clics
title.MouseButton1Click = nil -- No es botón, se usa evento diferente

-- Los botones que quieres dentro del frame
local espBtn = Instance.new("TextButton")
espBtn.Size = UDim2.new(0.9,0,0,30)
espBtn.Position = UDim2.new(0.05,0,0,40)
espBtn.Text = "ESP: OFF"
espBtn.Font = Enum.Font.Freedoka
espBtn.TextSize = 16
espBtn.BackgroundColor3 = Color3.fromRGB(100,100,100)
espBtn.TextColor3 = Color3.new(1,1,1)
espBtn.Parent = frame

local timeBtn = Instance.new("TextButton")
timeBtn.Size = UDim2.new(0.9,0,0,30)
timeBtn.Position = UDim2.new(0.05,0,0,80)
timeBtn.Text = "Tiempo de ronda: OFF"
timeBtn.Font = Enum.Font.Freedoka
timeBtn.TextSize = 16
timeBtn.BackgroundColor3 = Color3.fromRGB(100,100,100)
timeBtn.TextColor3 = Color3.new(1,1,1)
timeBtn.Parent = frame

local autoBtn = Instance.new("TextButton")
autoBtn.Size = UDim2.new(0.9,0,0,30)
autoBtn.Position = UDim2.new(0.05,0,0,120)
autoBtn.Text = "Auto Disparo: OFF"
autoBtn.Font = Enum.Font.Freedoka
autoBtn.TextSize = 16
autoBtn.BackgroundColor3 = Color3.fromRGB(100,100,100)
autoBtn.TextColor3 = Color3.new(1,1,1)
autoBtn.Parent = frame

-- Función para mostrar/ocultar botones y cambiar tamaño del frame
local minimized = false
local function toggleMinimize()
	minimized = not minimized
	for _,child in pairs(frame:GetChildren()) do
		if child ~= title then
			child.Visible = not minimized
		end
	end
	frame.Size = minimized and UDim2.new(0, 260, 0, 30) or UDim2.new(0, 260, 0, 200)
end

-- Como TextLabel no tiene MouseButton1Click, usamos MouseButton1Down o MouseButton1Click no existe
-- Mejor usar MouseButton1Down en un TextButton, pero como es TextLabel usamos InputBegan
title.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		toggleMinimize()
	end
end)
